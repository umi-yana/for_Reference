  <%# --右側吹き出し--  %>
    <div class="balloon_light mt-3  ">
      <div class="icon d-flex justify-content-start"><%= link_to user_path(post.user_id) do%>
      <%= attachment_image_tag  post.user,:user_photo,class:'post_user_image',fallback:'no_imag_user.png' %>
            <div class="text-white text-break d-flex flex-column justify-content-end ">
      <%= post.user.user_name %></div>
      <% end %>
      </div>

        <h3 class="text-break"><%= simple_format(post.post_body) %></h3>
            <div class="d-flex flex-column">
              <%= attachment_image_tag post,:post_image %>
              <%# -------------------条件分岐-------------------------%>
              <div id="select-test<%= post.id %>" class="d-flex flex-column text-right">
                  <%= render "post_selects/select" ,post: post %>
              </div>
              <%# -------------------（fin）条件分岐-------------------------%>
              <i class="fas fa-tag mt-3"><%= post.tags.map(&:tag_name).join('#')%></i>
                          <%# -----------コメント判断------------ %>
            <% if post.comments.exists? %>
              <%= link_to post_path(post.id),class:'text-right' do%> 
              <div class="text-right fas fa-comments fa-lg comment-icon"><%= post.comments.count %></div>
              <% end %>
            <% end %>
            <%# -----------(fin)コメント判断------------ %>
            </div>
            <div class="d-flex flex-column text-right">
            <%= link_to "詳細を見る",post_path(post.id),class:"right-block" %>
            <%= post.created_at.strftime('%Y-%m-%d %H:%M:%S') %>
            </div>
               <div class="w-100"></div>
    <%# -- ↑改行↑ -- %>
  <%# -- [fin]右側吹き出し --%>
  </div> 
</div>



<%# ----------user_post_style--------------%>
<style>

/* 吹き出し本体 */
.balloon_light{
  position: relative;
  padding: 20px;
  border-radius: 10px;
  color: #555;
  background-color: rgb(182, 235, 182);
  margin-right: 200px;          /* 右に余白を設ける */
  margin-left: 50%;
}
/* 画像 - 絶対配置で右上に配置 */
.balloon_light .icon{
  position: absolute;
  right: -200px;
  top: 0;
  flex-direction: column;
  text-align: center;
  margin-right: 50px;
}
/* 三角アイコン */
.balloon_light::before{
  content: '';
  position: absolute;
  display: block;
  width: 0;
  height: 0;
  right: -15px;
  top: 20px;
  border-left: 15px solid rgb(182, 235, 182);
  border-top: 15px solid transparent;
  border-bottom: 15px solid transparent;
}

.balloon_light .post_user_image {
    width: 110px;
    height: 110px;
    border-radius: 50%;
    background-size: cover;
    background-position: center;
    object-fit: cover;
}

.balloon_light .post_image{
  width:100%;
}


.comment-icon{
  color:#007bff;
</style> 


