<%= render "layouts/header" %>
<%#ーーー ヘッダー　ーーー%>
<div class="bg-info">
<div class="container-fluid ">
  <div class="row ">
    <%# --左側吹き出し--  %> 

    <div class="col text-center">
    <h3>タイムライン</h3>
    </div>
    <div class="w-100"></div>
    <%# --　新規投稿用吹き出し --%>
    <div class="col">
      <div class="d-flex justify-content-start">
        <div class="left-pop py-2">
          <h2 class='text-center'>新規投稿</h2>
          <div class="d-flex flex-column">
            <%= form_with model:@post_new,local:true do |f| %>
            <div class="form-group">
                <%= f.label :post_body,"投稿本文" %>
                <%= f.text_area :post_body,class:'w-100' %>
                </div>
              <div class="d-flex flex-row">
              <div class="form-group">
                <%= f.label :select_a,"選択肢A" %>
                <%= f.text_area :select_a,class:'h-200' %>
                </div>
                <div class="form-group ml-3">
                <%= f.label:select_b,"選択肢B" %>
                <%= f.text_area :select_b %>
              </div>
              </div>
              <%= f.label:post_image,"画像選択" %>
              <%= f.attachment_field :post_image %>
              
              <div class="form-group text-center">
              <%= f.submit "投稿する",class:'btn btn-danger btn-lg' %>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
      <div class="w-100"></div>
      <%# -- ↑改行↑ -- %>
    <%# -- [fin]左側吹き出し --%>
  </div>
  <%# ----------------------------固定------------------------------------------%>


  <%# 投稿all %>
  <div class="row">
  <% @posts.each do |post| %>

  <%#ーーー 投稿者判断　ーーー%>
  <% if post.user_id == current_user.id %>

    <%#= -----投稿者側の投稿内容 ----- %>
    <%= render partial: "current-user-post" ,locals: {post: post} %>
  <% else %>
    <%#= -----利用者の側の投稿内容 ----- %>
    <%= render partial: "user-post" ,locals: {post: post} %>

  <% end %>
  </div>
<% end %>


  </div>
</div>


</div>
