
<% if current_user_select = post.post_selects.find_by(user_id: current_user.id ) %><%# もしユーザーが投稿に対して、選択したことがあるか？否か？ %>

  <% if current_user_select.is_select == "A" %> <%# そのユーザーが過去に"A"だったら、"A"はdelete　"B"はupdate %>
    <%= link_to "A.#{post.select_a}", post_post_selects_path(post_id:post.id, id:current_user_select.id), method: :DELETE, class:"text-break btn btn-info btn-lg mt-3 text-white-50",remote:true %>
    
     <%= link_to "B.#{post.select_b} 評価数:#{post.post_selects.where(is_select: "B").count}", post_post_selects_path(post_id:post.id, id:current_user_select.id, is_select:"B" ), method: :PATCH, class:"text-break btn btn-primary btn-lg mt-3", remote:true %>
     update

  <% elsif current_user_select.is_select == "B" %> <%# そのユーザーが過去に"B"だったら、"A"はupdate　"B"はdelete %>
    <%= link_to "A.#{post.select_a} 評価数:#{post.post_selects.where(is_select: "A").count}", post_post_selects_path(post_id:post.id, id:current_user_select.id, is_select:"A" ), method: :PATCH, class:"text-break btn btn-primary btn-lg mt-3", remote:true %>
  update
    <%= link_to "B.#{post.select_b} 評価数:#{post.post_selects.where(is_select: "B").count}", post_post_selects_path(post_id:post.id, id:current_user_select.id), method: :DELETE, class:"text-break btn btn-info btn-lg mt-3 text-white-50",remote:true%>
    Delete
  <% end %>

<% else %><%# もしユーザーが投稿に対して、選択していなかったら、両方ともcreate %>
  <%= link_to "A.#{post.select_a} 評価数:#{post.post_selects.where(is_select: "A").count}",post_post_selects_path(post_id:post.id,is_select:"A"),method: :POST,class:"text-break btn btn-primary btn-lg mt-3", remote:true %>新規登録
  <%= link_to  "B.#{post.select_b} 評価数:#{post.post_selects.where(is_select: "B").count}",post_post_selects_path(post_id:post.id,is_select:"B"),method: :POST,class:"text-break btn btn-primary btn-lg mt-3", remote:true %>新規登録

<% end %>



<%#

 [post] = Post.allをeach で回している。







%>